{"ast":null,"code":"var _jsxFileName = \"/Users/simoncatalin/Desktop/JavaScript/travel-map-app/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport { Room, Star } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport \"./app.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const currentUser = \"john\";\n  const [pins, setPins] = useState([]);\n  const [currentPlaceId, setCurrentPlaceId] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: \"100vw\",\n    height: \"100vh\",\n    latitude: 46,\n    longitude: 17,\n    zoom: 4\n  });\n  useEffect(() => {\n    const getPins = async () => {\n      try {\n        const res = await axios.get(\"/pins\");\n        setPins(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getPins();\n  }, []);\n\n  const handleMarkerClick = id => {\n    setCurrentPlaceId(id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n      mapboxApiAccessToken: process.env.REACT_APP_MAPBOX,\n      onViewportChange: nextViewport => setViewport(nextViewport),\n      mapStyle: \"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\",\n      children: pins.map(p => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Marker, {\n          latitude: p.lat,\n          longitude: p.long,\n          offsetLeft: -20,\n          offsetTop: -10,\n          children: /*#__PURE__*/_jsxDEV(Room, {\n            style: {\n              fontSize: viewport.zoom * 7,\n              color: p.username === currentUser ? \"tomato\" : \"slateblue\",\n              cursor: \"pointer\"\n            },\n            onClick: () => handleMarkerClick(p._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), p._id === currentPlaceId && /*#__PURE__*/_jsxDEV(Popup, {\n          latitude: p.lat,\n          longitude: p.long,\n          closeButton: true,\n          closeOnClick: false,\n          anchor: \"left\",\n          onClose: () => setCurrentPlaceId(null),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Place\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"place\",\n              children: p.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"desc\",\n              children: p.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stars\",\n              children: [/*#__PURE__*/_jsxDEV(Star, {\n                className: \"star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: \"star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: \"star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: \"star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: \"star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"username\",\n              children: [\"Created by \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: p.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 55\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"date\",\n              children: format(p.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Gc3kuHO7toPRJt+IljPBPbSi9V8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/simoncatalin/Desktop/JavaScript/travel-map-app/client/src/App.js"],"names":["useState","useEffect","ReactMapGL","Marker","Popup","Room","Star","axios","format","App","currentUser","pins","setPins","currentPlaceId","setCurrentPlaceId","viewport","setViewport","width","height","latitude","longitude","zoom","getPins","res","get","data","err","console","log","handleMarkerClick","id","process","env","REACT_APP_MAPBOX","nextViewport","map","p","lat","long","fontSize","color","username","cursor","_id","title","desc","createdAt"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport  { Room, Star } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\n\nimport \"./app.scss\";\n\nfunction App() {\n  const currentUser = \"john\";\n  const [pins, setPins] = useState([]);\n  const [currentPlaceId, setCurrentPlaceId] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: \"100vw\",\n    height: \"100vh\",\n    latitude: 46,\n    longitude: 17,\n    zoom: 4\n  });\n\n  useEffect(() => {\n    const getPins = async () =>{\n      try {\n        const res = await axios.get(\"/pins\");\n        setPins(res.data);\n      } catch(err) {\n        console.log(err)\n      }\n    }\n    getPins();\n  }, []);\n\n  const handleMarkerClick = (id) => {\n    setCurrentPlaceId(id);\n  }\n\n  return (\n    <div className=\"app\">\n      <ReactMapGL\n        {...viewport}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n        onViewportChange={nextViewport => setViewport(nextViewport)}\n        mapStyle=\"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\"\n      >\n        {pins.map(p => (\n          <>\n            <Marker \n            latitude={p.lat} \n            longitude={p.long} \n            offsetLeft={-20} \n            offsetTop={-10}\n            >\n            <Room \n              style={{ \n                fontSize: viewport.zoom * 7, \n                color: p.username === currentUser ? \"tomato\" : \"slateblue\", \n                cursor: \"pointer\" }}\n              onClick={() => handleMarkerClick(p._id)}\n            />\n            </Marker>\n            {p._id === currentPlaceId && (\n              <Popup\n              latitude={p.lat}\n              longitude={p.long}\n              closeButton={true}\n              closeOnClick={false}\n              anchor=\"left\" \n              onClose={() => setCurrentPlaceId(null)}\n              >\n              <div className=\"card\">\n              <label>Place</label>\n              <h4 className=\"place\">{p.title}</h4>\n              <label>Review</label>\n              <p className=\"desc\">{p.desc}</p>\n              <label>Rating</label>\n              <div className=\"stars\">\n              <Star className=\"star\" />\n              <Star className=\"star\" />\n              <Star className=\"star\" />\n              <Star className=\"star\" />\n              <Star className=\"star\" />\n              </div>\n                <label>Information</label>\n                <span className=\"username\">Created by <b>{p.username}</b></span>\n                <span className=\"date\">{format(p.createdAt)}</span>\n              </div>\n              </Popup>\n            )}\n          </>\n        ))}\n        </ReactMapGL>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}